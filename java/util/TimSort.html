<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Jun 14 21:14:35 EDT 2015 -->
<title>TimSort</title>
<meta name="date" content="2015-06-14">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TimSort";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimSort.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../java/util/TimeZone.DisplayNames.html" title="class in java.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../java/util/TooManyListenersException.html" title="class in java.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?java/util/TimSort.html" target="_top">Frames</a></li>
<li><a href="TimSort.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">java.util</div>
<h2 title="Class TimSort" class="title">Class TimSort&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>java.util.TimSort&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre> class <a href="../../src-html/java/util/TimSort.html#line.61">TimSort</a>&lt;T&gt;
extends <a href="../../java/lang/Object.html" title="class in java.lang">Object</a></pre>
<div class="block">A stable, adaptive, iterative mergesort that requires far fewer than
 n lg(n) comparisons when running on partially sorted arrays, while
 offering performance comparable to a traditional mergesort when run
 on random arrays.  Like all proper mergesorts, this sort is stable and
 runs O(n log n) time (worst case).  In the worst case, this sort requires
 temporary storage space for n/2 object references; in the best case,
 it requires only a small constant amount of space.

 This implementation was adapted from Tim Peters's list sort for
 Python, which is described in detail here:

   http://svn.python.org/projects/python/trunk/Objects/listsort.txt

 Tim's C code may be found here:

   http://svn.python.org/projects/python/trunk/Objects/listobject.c

 The underlying techniques are described in this paper (and may have
 even earlier origins):

  "Optimistic Sorting and Information Theoretic Complexity"
  Peter McIlroy
  SODA (Fourth Annual ACM-SIAM Symposium on Discrete Algorithms),
  pp 467-474, Austin, Texas, 25-27 January 1993.

 While the API to this class consists solely of static methods, it is
 (privately) instantiable; a TimSort instance holds the state of an ongoing
 sort, assuming the input array is large enough to warrant the full-blown
 TimSort. Small arrays are sorted in place, using a binary insertion sort.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Josh Bloch</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#a">a</a></strong></code>
<div class="block">The array being sorted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#c">c</a></strong></code>
<div class="block">The comparator for this sort.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#INITIAL_TMP_STORAGE_LENGTH">INITIAL_TMP_STORAGE_LENGTH</a></strong></code>
<div class="block">Maximum initial size of tmp array, which is used for merging.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#MIN_GALLOP">MIN_GALLOP</a></strong></code>
<div class="block">When we get into galloping mode, we stay there until both runs win less
 often than MIN_GALLOP consecutive times.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#MIN_MERGE">MIN_MERGE</a></strong></code>
<div class="block">This is the minimum sized sequence that will be merged.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#minGallop">minGallop</a></strong></code>
<div class="block">This controls when we get *into* galloping mode.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#runBase">runBase</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#runLen">runLen</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#stackSize">stackSize</a></strong></code>
<div class="block">A stack of pending runs yet to be merged.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#tmp">tmp</a></strong></code>
<div class="block">Temp storage for merges.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#TimSort(T[],%20java.util.Comparator)">TimSort</a></strong>(<a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[]&nbsp;a,
              <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>&gt;&nbsp;c)</code>
<div class="block">Creates a TimSort instance to maintain the state of an ongoing sort.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static &lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#binarySort(T[],%20int,%20int,%20int,%20java.util.Comparator)">binarySort</a></strong>(T[]&nbsp;a,
                    int&nbsp;lo,
                    int&nbsp;hi,
                    int&nbsp;start,
                    <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</code>
<div class="block">Sorts the specified portion of the specified array using a binary
 insertion sort.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static &lt;T&gt;&nbsp;int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#countRunAndMakeAscending(T[],%20int,%20int,%20java.util.Comparator)">countRunAndMakeAscending</a></strong>(T[]&nbsp;a,
                                                int&nbsp;lo,
                                                int&nbsp;hi,
                                                <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</code>
<div class="block">Returns the length of the run beginning at the specified position in
 the specified array and reverses the run if it is descending (ensuring
 that the run will always be ascending when the method returns).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#ensureCapacity(int)">ensureCapacity</a></strong>(int&nbsp;minCapacity)</code>
<div class="block">Ensures that the external array tmp has at least the specified
 number of elements, increasing its size if necessary.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static &lt;T&gt;&nbsp;int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#gallopLeft(T,%20T[],%20int,%20int,%20int,%20java.util.Comparator)">gallopLeft</a></strong>(T&nbsp;key,
                    T[]&nbsp;a,
                    int&nbsp;base,
                    int&nbsp;len,
                    int&nbsp;hint,
                    <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</code>
<div class="block">Locates the position at which to insert the specified key into the
 specified sorted range; if the range contains an element equal to key,
 returns the index of the leftmost equal element.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static &lt;T&gt;&nbsp;int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#gallopRight(T,%20T[],%20int,%20int,%20int,%20java.util.Comparator)">gallopRight</a></strong>(T&nbsp;key,
                      T[]&nbsp;a,
                      int&nbsp;base,
                      int&nbsp;len,
                      int&nbsp;hint,
                      <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</code>
<div class="block">Like gallopLeft, except that if the range contains an element equal to
 key, gallopRight returns the index after the rightmost equal element.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#mergeAt(int)">mergeAt</a></strong>(int&nbsp;i)</code>
<div class="block">Merges the two runs at stack indices i and i+1.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#mergeCollapse()">mergeCollapse</a></strong>()</code>
<div class="block">Examines the stack of runs waiting to be merged and merges adjacent runs
 until the stack invariants are reestablished:

     1.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#mergeForceCollapse()">mergeForceCollapse</a></strong>()</code>
<div class="block">Merges all runs on the stack until only one remains.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#mergeHi(int,%20int,%20int,%20int)">mergeHi</a></strong>(int&nbsp;base1,
              int&nbsp;len1,
              int&nbsp;base2,
              int&nbsp;len2)</code>
<div class="block">Like mergeLo, except that this method should be called only if
 len1 >= len2; mergeLo should be called if len1 <= len2.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#mergeLo(int,%20int,%20int,%20int)">mergeLo</a></strong>(int&nbsp;base1,
              int&nbsp;len1,
              int&nbsp;base2,
              int&nbsp;len2)</code>
<div class="block">Merges two adjacent runs in place, in a stable fashion.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#minRunLength(int)">minRunLength</a></strong>(int&nbsp;n)</code>
<div class="block">Returns the minimum acceptable run length for an array of the specified
 length.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#pushRun(int,%20int)">pushRun</a></strong>(int&nbsp;runBase,
              int&nbsp;runLen)</code>
<div class="block">Pushes the specified run onto the pending-run stack.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#rangeCheck(int,%20int,%20int)">rangeCheck</a></strong>(int&nbsp;arrayLen,
                    int&nbsp;fromIndex,
                    int&nbsp;toIndex)</code>
<div class="block">Checks that fromIndex and toIndex are in range, and throws an
 appropriate exception if they aren't.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#reverseRange(java.lang.Object[],%20int,%20int)">reverseRange</a></strong>(<a href="../../java/lang/Object.html" title="class in java.lang">Object</a>[]&nbsp;a,
                        int&nbsp;lo,
                        int&nbsp;hi)</code>
<div class="block">Reverse the specified range of the specified array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static &lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#sort(T[],%20java.util.Comparator)">sort</a></strong>(T[]&nbsp;a,
        <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static &lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><strong><a href="../../java/util/TimSort.html#sort(T[],%20int,%20int,%20java.util.Comparator)">sort</a></strong>(T[]&nbsp;a,
        int&nbsp;lo,
        int&nbsp;hi,
        <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../java/lang/Object.html#clone()">clone</a>, <a href="../../java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../java/lang/Object.html#finalize()">finalize</a>, <a href="../../java/lang/Object.html#getClass()">getClass</a>, <a href="../../java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../java/lang/Object.html#notify()">notify</a>, <a href="../../java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../java/lang/Object.html#toString()">toString</a>, <a href="../../java/lang/Object.html#wait()">wait</a>, <a href="../../java/lang/Object.html#wait(long)">wait</a>, <a href="../../java/lang/Object.html#wait(long,%20int)">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MIN_MERGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_MERGE</h4>
<pre>private static final&nbsp;int <a href="../../src-html/java/util/TimSort.html#line.79">MIN_MERGE</a></pre>
<div class="block">This is the minimum sized sequence that will be merged.  Shorter
 sequences will be lengthened by calling binarySort.  If the entire
 array is less than this length, no merges will be performed.

 This constant should be a power of two.  It was 64 in Tim Peter's C
 implementation, but 32 was empirically determined to work better in
 this implementation.  In the unlikely event that you set this constant
 to be a number that's not a power of two, you'll need to change the
 <a href="../../java/util/TimSort.html#minRunLength(int)"><code>minRunLength(int)</code></a> computation.

 If you decrease this constant, you must change the stackLen
 computation in the TimSort constructor, or you risk an
 ArrayOutOfBounds exception.  See listsort.txt for a discussion
 of the minimum stack length required as a function of the length
 of the array being sorted and the minimum merge sequence length.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#java.util.TimSort.MIN_MERGE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="a">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a</h4>
<pre>private final&nbsp;<a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[] <a href="../../src-html/java/util/TimSort.html#line.84">a</a></pre>
<div class="block">The array being sorted.</div>
</li>
</ul>
<a name="c">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>c</h4>
<pre>private final&nbsp;<a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>&gt; <a href="../../src-html/java/util/TimSort.html#line.89">c</a></pre>
<div class="block">The comparator for this sort.</div>
</li>
</ul>
<a name="MIN_GALLOP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_GALLOP</h4>
<pre>private static final&nbsp;int <a href="../../src-html/java/util/TimSort.html#line.95">MIN_GALLOP</a></pre>
<div class="block">When we get into galloping mode, we stay there until both runs win less
 often than MIN_GALLOP consecutive times.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#java.util.TimSort.MIN_GALLOP">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="minGallop">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minGallop</h4>
<pre>private&nbsp;int <a href="../../src-html/java/util/TimSort.html#line.102">minGallop</a></pre>
<div class="block">This controls when we get *into* galloping mode.  It is initialized
 to MIN_GALLOP.  The mergeLo and mergeHi methods nudge it higher for
 random data, and lower for highly structured data.</div>
</li>
</ul>
<a name="INITIAL_TMP_STORAGE_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INITIAL_TMP_STORAGE_LENGTH</h4>
<pre>private static final&nbsp;int <a href="../../src-html/java/util/TimSort.html#line.111">INITIAL_TMP_STORAGE_LENGTH</a></pre>
<div class="block">Maximum initial size of tmp array, which is used for merging.  The array
 can grow to accommodate demand.

 Unlike Tim's original C version, we do not allocate this much storage
 when sorting smaller arrays.  This change was required for performance.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#java.util.TimSort.INITIAL_TMP_STORAGE_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="tmp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tmp</h4>
<pre>private&nbsp;<a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[] <a href="../../src-html/java/util/TimSort.html#line.116">tmp</a></pre>
<div class="block">Temp storage for merges.</div>
</li>
</ul>
<a name="stackSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stackSize</h4>
<pre>private&nbsp;int <a href="../../src-html/java/util/TimSort.html#line.128">stackSize</a></pre>
<div class="block">A stack of pending runs yet to be merged.  Run i starts at
 address base[i] and extends for len[i] elements.  It's always
 true (so long as the indices are in bounds) that:

     runBase[i] + runLen[i] == runBase[i + 1]

 so we could cut the storage for this, but it's a minor amount,
 and keeping all the info explicit simplifies the code.</div>
</li>
</ul>
<a name="runBase">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runBase</h4>
<pre>private final&nbsp;int[] <a href="../../src-html/java/util/TimSort.html#line.129">runBase</a></pre>
</li>
</ul>
<a name="runLen">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>runLen</h4>
<pre>private final&nbsp;int[] <a href="../../src-html/java/util/TimSort.html#line.130">runLen</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TimSort(java.lang.Object[],java.util.Comparator)">
<!--   -->
</a><a name="TimSort(T[], java.util.Comparator)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TimSort</h4>
<pre>private&nbsp;<a href="../../src-html/java/util/TimSort.html#line.138">TimSort</a>(<a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[]&nbsp;a,
       <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super <a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>&gt;&nbsp;c)</pre>
<div class="block">Creates a TimSort instance to maintain the state of an ongoing sort.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the array to be sorted</dd><dd><code>c</code> - the comparator to determine the order of the sort</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="sort(java.lang.Object[],java.util.Comparator)">
<!--   -->
</a><a name="sort(T[], java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sort</h4>
<pre>static&nbsp;&lt;T&gt;&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.172">sort</a>(T[]&nbsp;a,
            <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</pre>
</li>
</ul>
<a name="sort(java.lang.Object[],int,int,java.util.Comparator)">
<!--   -->
</a><a name="sort(T[], int, int, java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sort</h4>
<pre>static&nbsp;&lt;T&gt;&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.176">sort</a>(T[]&nbsp;a,
            int&nbsp;lo,
            int&nbsp;hi,
            <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</pre>
</li>
</ul>
<a name="binarySort(java.lang.Object[],int,int,int,java.util.Comparator)">
<!--   -->
</a><a name="binarySort(T[], int, int, int, java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>binarySort</h4>
<pre>private static&nbsp;&lt;T&gt;&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.246">binarySort</a>(T[]&nbsp;a,
                  int&nbsp;lo,
                  int&nbsp;hi,
                  int&nbsp;start,
                  <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</pre>
<div class="block">Sorts the specified portion of the specified array using a binary
 insertion sort.  This is the best method for sorting small numbers
 of elements.  It requires O(n log n) compares, but O(n^2) data
 movement (worst case).

 If the initial part of the specified range is already sorted,
 this method can take advantage of it: the method assumes that the
 elements from index <code>lo</code>, inclusive, to <code>start</code>,
 exclusive are already sorted.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the array in which a range is to be sorted</dd><dd><code>lo</code> - the index of the first element in the range to be sorted</dd><dd><code>hi</code> - the index after the last element in the range to be sorted</dd><dd><code>start</code> - the index of the first element in the range that is
        not already known to be sorted (<code>lo &lt;= start &lt;= hi</code>)</dd><dd><code>c</code> - comparator to used for the sort</dd></dl>
</li>
</ul>
<a name="countRunAndMakeAscending(java.lang.Object[],int,int,java.util.Comparator)">
<!--   -->
</a><a name="countRunAndMakeAscending(T[], int, int, java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countRunAndMakeAscending</h4>
<pre>private static&nbsp;&lt;T&gt;&nbsp;int&nbsp;<a href="../../src-html/java/util/TimSort.html#line.316">countRunAndMakeAscending</a>(T[]&nbsp;a,
                               int&nbsp;lo,
                               int&nbsp;hi,
                               <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</pre>
<div class="block">Returns the length of the run beginning at the specified position in
 the specified array and reverses the run if it is descending (ensuring
 that the run will always be ascending when the method returns).

 A run is the longest ascending sequence with:

    a[lo] <= a[lo + 1] <= a[lo + 2] <= ...

 or the longest descending sequence with:

    a[lo] >  a[lo + 1] >  a[lo + 2] >  ...

 For its intended use in a stable mergesort, the strictness of the
 definition of "descending" is needed so that the call can safely
 reverse a descending sequence without violating stability.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the array in which a run is to be counted and possibly reversed</dd><dd><code>lo</code> - index of the first element in the run</dd><dd><code>hi</code> - index after the last element that may be contained in the run.
              It is required that <code>lo &lt; hi</code>.</dd><dd><code>c</code> - the comparator to used for the sort</dd>
<dt><span class="strong">Returns:</span></dt><dd>the length of the run beginning at the specified position in
          the specified array</dd></dl>
</li>
</ul>
<a name="reverseRange(java.lang.Object[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reverseRange</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.343">reverseRange</a>(<a href="../../java/lang/Object.html" title="class in java.lang">Object</a>[]&nbsp;a,
                int&nbsp;lo,
                int&nbsp;hi)</pre>
<div class="block">Reverse the specified range of the specified array.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the array in which a range is to be reversed</dd><dd><code>lo</code> - the index of the first element in the range to be reversed</dd><dd><code>hi</code> - the index after the last element in the range to be reversed</dd></dl>
</li>
</ul>
<a name="minRunLength(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minRunLength</h4>
<pre>private static&nbsp;int&nbsp;<a href="../../src-html/java/util/TimSort.html#line.369">minRunLength</a>(int&nbsp;n)</pre>
<div class="block">Returns the minimum acceptable run length for an array of the specified
 length. Natural runs shorter than this will be extended with
 <a href="../../java/util/TimSort.html#binarySort(T[],%20int,%20int,%20int,%20java.util.Comparator)"><code>binarySort(T[], int, int, int, java.util.Comparator&lt;? super T&gt;)</code></a>.

 Roughly speaking, the computation is:

  If n < MIN_MERGE, return n (it's too small to bother with fancy stuff).
  Else if n is an exact power of 2, return MIN_MERGE/2.
  Else return an int k, MIN_MERGE/2 <= k <= MIN_MERGE, such that n/k
   is close to, but strictly less than, an exact power of 2.

 For the rationale, see listsort.txt.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>n</code> - the length of the array to be sorted</dd>
<dt><span class="strong">Returns:</span></dt><dd>the length of the minimum run to be merged</dd></dl>
</li>
</ul>
<a name="pushRun(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushRun</h4>
<pre>private&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.385">pushRun</a>(int&nbsp;runBase,
           int&nbsp;runLen)</pre>
<div class="block">Pushes the specified run onto the pending-run stack.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>runBase</code> - index of the first element in the run</dd><dd><code>runLen</code> - the number of elements in the run</dd></dl>
</li>
</ul>
<a name="mergeCollapse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeCollapse</h4>
<pre>private&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.402">mergeCollapse</a>()</pre>
<div class="block">Examines the stack of runs waiting to be merged and merges adjacent runs
 until the stack invariants are reestablished:

     1. runLen[i - 3] > runLen[i - 2] + runLen[i - 1]
     2. runLen[i - 2] > runLen[i - 1]

 This method is called each time a new run is pushed onto the stack,
 so the invariants are guaranteed to hold for i < stackSize upon
 entry to the method.</div>
</li>
</ul>
<a name="mergeForceCollapse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeForceCollapse</h4>
<pre>private&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.421">mergeForceCollapse</a>()</pre>
<div class="block">Merges all runs on the stack until only one remains.  This method is
 called once, to complete the sort.</div>
</li>
</ul>
<a name="mergeAt(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeAt</h4>
<pre>private&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.437">mergeAt</a>(int&nbsp;i)</pre>
<div class="block">Merges the two runs at stack indices i and i+1.  Run i must be
 the penultimate or antepenultimate run on the stack.  In other words,
 i must be equal to stackSize-2 or stackSize-3.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - stack index of the first of the two runs to merge</dd></dl>
</li>
</ul>
<a name="gallopLeft(java.lang.Object,java.lang.Object[],int,int,int,java.util.Comparator)">
<!--   -->
</a><a name="gallopLeft(T, T[], int, int, int, java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gallopLeft</h4>
<pre>private static&nbsp;&lt;T&gt;&nbsp;int&nbsp;<a href="../../src-html/java/util/TimSort.html#line.506">gallopLeft</a>(T&nbsp;key,
                 T[]&nbsp;a,
                 int&nbsp;base,
                 int&nbsp;len,
                 int&nbsp;hint,
                 <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</pre>
<div class="block">Locates the position at which to insert the specified key into the
 specified sorted range; if the range contains an element equal to key,
 returns the index of the leftmost equal element.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the key whose insertion point to search for</dd><dd><code>a</code> - the array in which to search</dd><dd><code>base</code> - the index of the first element in the range</dd><dd><code>len</code> - the length of the range; must be > 0</dd><dd><code>hint</code> - the index at which to begin the search, 0 <= hint < n.
     The closer hint is to the result, the faster this method will run.</dd><dd><code>c</code> - the comparator used to order the range, and to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>the int k,  0 <= k <= n such that a[b + k - 1] < key <= a[b + k],
    pretending that a[b - 1] is minus infinity and a[b + n] is infinity.
    In other words, key belongs at index b + k; or in other words,
    the first k elements of a should precede key, and the last n - k
    should follow it.</dd></dl>
</li>
</ul>
<a name="gallopRight(java.lang.Object,java.lang.Object[],int,int,int,java.util.Comparator)">
<!--   -->
</a><a name="gallopRight(T, T[], int, int, int, java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gallopRight</h4>
<pre>private static&nbsp;&lt;T&gt;&nbsp;int&nbsp;<a href="../../src-html/java/util/TimSort.html#line.576">gallopRight</a>(T&nbsp;key,
                  T[]&nbsp;a,
                  int&nbsp;base,
                  int&nbsp;len,
                  int&nbsp;hint,
                  <a href="../../java/util/Comparator.html" title="interface in java.util">Comparator</a>&lt;? super T&gt;&nbsp;c)</pre>
<div class="block">Like gallopLeft, except that if the range contains an element equal to
 key, gallopRight returns the index after the rightmost equal element.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the key whose insertion point to search for</dd><dd><code>a</code> - the array in which to search</dd><dd><code>base</code> - the index of the first element in the range</dd><dd><code>len</code> - the length of the range; must be > 0</dd><dd><code>hint</code> - the index at which to begin the search, 0 <= hint < n.
     The closer hint is to the result, the faster this method will run.</dd><dd><code>c</code> - the comparator used to order the range, and to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>the int k,  0 <= k <= n such that a[b + k - 1] <= key < a[b + k]</dd></dl>
</li>
</ul>
<a name="mergeLo(int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeLo</h4>
<pre>private&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.650">mergeLo</a>(int&nbsp;base1,
           int&nbsp;len1,
           int&nbsp;base2,
           int&nbsp;len2)</pre>
<div class="block">Merges two adjacent runs in place, in a stable fashion.  The first
 element of the first run must be greater than the first element of the
 second run (a[base1] > a[base2]), and the last element of the first run
 (a[base1 + len1-1]) must be greater than all elements of the second run.

 For performance, this method should be called only when len1 <= len2;
 its twin, mergeHi should be called if len1 >= len2.  (Either method
 may be called if len1 == len2.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>base1</code> - index of first element in first run to be merged</dd><dd><code>len1</code> - length of first run to be merged (must be > 0)</dd><dd><code>base2</code> - index of first element in second run to be merged
        (must be aBase + aLen)</dd><dd><code>len2</code> - length of second run to be merged (must be > 0)</dd></dl>
</li>
</ul>
<a name="mergeHi(int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeHi</h4>
<pre>private&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.767">mergeHi</a>(int&nbsp;base1,
           int&nbsp;len1,
           int&nbsp;base2,
           int&nbsp;len2)</pre>
<div class="block">Like mergeLo, except that this method should be called only if
 len1 >= len2; mergeLo should be called if len1 <= len2.  (Either method
 may be called if len1 == len2.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>base1</code> - index of first element in first run to be merged</dd><dd><code>len1</code> - length of first run to be merged (must be > 0)</dd><dd><code>base2</code> - index of first element in second run to be merged
        (must be aBase + aLen)</dd><dd><code>len2</code> - length of second run to be merged (must be > 0)</dd></dl>
</li>
</ul>
<a name="ensureCapacity(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureCapacity</h4>
<pre>private&nbsp;<a href="../../java/util/TimSort.html" title="type parameter in TimSort">T</a>[]&nbsp;<a href="../../src-html/java/util/TimSort.html#line.885">ensureCapacity</a>(int&nbsp;minCapacity)</pre>
<div class="block">Ensures that the external array tmp has at least the specified
 number of elements, increasing its size if necessary.  The size
 increases exponentially to ensure amortized linear time complexity.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>minCapacity</code> - the minimum required capacity of the tmp array</dd>
<dt><span class="strong">Returns:</span></dt><dd>tmp, whether or not it grew</dd></dl>
</li>
</ul>
<a name="rangeCheck(int, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rangeCheck</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../src-html/java/util/TimSort.html#line.919">rangeCheck</a>(int&nbsp;arrayLen,
              int&nbsp;fromIndex,
              int&nbsp;toIndex)</pre>
<div class="block">Checks that fromIndex and toIndex are in range, and throws an
 appropriate exception if they aren't.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>arrayLen</code> - the length of the array</dd><dd><code>fromIndex</code> - the index of the first element of the range</dd><dd><code>toIndex</code> - the index after the last element of the range</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if fromIndex > toIndex</dd>
<dd><code><a href="../../java/lang/ArrayIndexOutOfBoundsException.html" title="class in java.lang">ArrayIndexOutOfBoundsException</a></code> - if fromIndex < 0
         or toIndex > arrayLen</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimSort.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../java/util/TimeZone.DisplayNames.html" title="class in java.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../java/util/TooManyListenersException.html" title="class in java.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?java/util/TimSort.html" target="_top">Frames</a></li>
<li><a href="TimSort.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
