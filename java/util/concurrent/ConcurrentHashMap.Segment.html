<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Jun 14 21:11:07 EDT 2015 -->
<title>ConcurrentHashMap.Segment</title>
<meta name="date" content="2015-06-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConcurrentHashMap.Segment";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrentHashMap.Segment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../java/util/concurrent/ConcurrentHashMap.KeySet.html" title="class in java.util.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../java/util/concurrent/ConcurrentHashMap.ValueIterator.html" title="class in java.util.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?java/util/concurrent/ConcurrentHashMap.Segment.html" target="_top">Frames</a></li>
<li><a href="ConcurrentHashMap.Segment.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">java.util.concurrent</div>
<h2 title="Class ConcurrentHashMap.Segment" class="title">Class ConcurrentHashMap.Segment&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../java/util/concurrent/locks/ReentrantLock.html" title="class in java.util.concurrent.locks">java.util.concurrent.locks.ReentrantLock</a></li>
<li>
<ul class="inheritance">
<li>java.util.concurrent.ConcurrentHashMap.Segment&lt;K,V&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../java/io/Serializable.html" title="interface in java.io">Serializable</a>, <a href="../../../java/util/concurrent/locks/Lock.html" title="interface in java.util.concurrent.locks">Lock</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../java/util/concurrent/ConcurrentHashMap.html" title="class in java.util.concurrent">ConcurrentHashMap</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.html" title="type parameter in ConcurrentHashMap">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.html" title="type parameter in ConcurrentHashMap">V</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>static final class <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.html#line.350">ConcurrentHashMap.Segment</a>&lt;K,V&gt;
extends <a href="../../../java/util/concurrent/locks/ReentrantLock.html" title="class in java.util.concurrent.locks">ReentrantLock</a>
implements <a href="../../../java/io/Serializable.html" title="interface in java.io">Serializable</a></pre>
<div class="block">Segments are specialized versions of hash tables.  This
 subclasses from ReentrantLock opportunistically, just to
 simplify some locking and avoid separate construction.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#count">count</a></strong></code>
<div class="block">The number of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) float</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#loadFactor">loadFactor</a></strong></code>
<div class="block">The load factor for the hash table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#MAX_SCAN_RETRIES">MAX_SCAN_RETRIES</a></strong></code>
<div class="block">The maximum number of times to tryLock in a prescan before
 possibly blocking on acquire in preparation for a locked
 segment operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#modCount">modCount</a></strong></code>
<div class="block">The total number of mutative operations in this segment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#serialVersionUID">serialVersionUID</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#table">table</a></strong></code>
<div class="block">The per-segment table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#threshold">threshold</a></strong></code>
<div class="block">The table is rehashed when its size exceeds this threshold.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#ConcurrentHashMap.Segment(float,%20int,%20java.util.concurrent.ConcurrentHashMap.HashEntry[])">ConcurrentHashMap.Segment</a></strong>(float&nbsp;lf,
                                                  int&nbsp;threshold,
                                                  <a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;[]&nbsp;tab)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#clear()">clear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a></code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#put(K,%20int,%20V,%20boolean)">put</a></strong>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
      int&nbsp;hash,
      <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;value,
      boolean&nbsp;onlyIfAbsent)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#rehash(java.util.concurrent.ConcurrentHashMap.HashEntry)">rehash</a></strong>(<a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;&nbsp;node)</code>
<div class="block">Doubles size of table and repacks entries, also adding the
 given node to new table</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a></code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#remove(java.lang.Object,%20int,%20java.lang.Object)">remove</a></strong>(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;key,
            int&nbsp;hash,
            <a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;value)</code>
<div class="block">Remove; match on key only if value null, else match both.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a></code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#replace(K,%20int,%20V)">replace</a></strong>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
              int&nbsp;hash,
              <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;value)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#replace(K,%20int,%20V,%20V)">replace</a></strong>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
              int&nbsp;hash,
              <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;oldValue,
              <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;newValue)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#scanAndLock(java.lang.Object,%20int)">scanAndLock</a></strong>(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;key,
                      int&nbsp;hash)</code>
<div class="block">Scans for a node containing the given key while trying to
 acquire lock for a remove or replace operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html#scanAndLockForPut(K,%20int,%20V)">scanAndLockForPut</a></strong>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
                                  int&nbsp;hash,
                                  <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;value)</code>
<div class="block">Scans for a node containing given key while trying to
 acquire lock, creating and returning one if not found.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.concurrent.locks.ReentrantLock">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.concurrent.locks.<a href="../../../java/util/concurrent/locks/ReentrantLock.html" title="class in java.util.concurrent.locks">ReentrantLock</a></h3>
<code><a href="../../../java/util/concurrent/locks/ReentrantLock.html#getHoldCount()">getHoldCount</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#getOwner()">getOwner</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#getQueuedThreads()">getQueuedThreads</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#getQueueLength()">getQueueLength</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#getWaitingThreads(java.util.concurrent.locks.Condition)">getWaitingThreads</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#getWaitQueueLength(java.util.concurrent.locks.Condition)">getWaitQueueLength</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#hasQueuedThread(java.lang.Thread)">hasQueuedThread</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#hasQueuedThreads()">hasQueuedThreads</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#hasWaiters(java.util.concurrent.locks.Condition)">hasWaiters</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#isFair()">isFair</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#isHeldByCurrentThread()">isHeldByCurrentThread</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#isLocked()">isLocked</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#lock()">lock</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#lockInterruptibly()">lockInterruptibly</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#newCondition()">newCondition</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#toString()">toString</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#tryLock()">tryLock</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#tryLock(long,%20java.util.concurrent.TimeUnit)">tryLock</a>, <a href="../../../java/util/concurrent/locks/ReentrantLock.html#unlock()">unlock</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java/lang/Object.html#clone()">clone</a>, <a href="../../../java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java/lang/Object.html#finalize()">finalize</a>, <a href="../../../java/lang/Object.html#getClass()">getClass</a>, <a href="../../../java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../java/lang/Object.html#notify()">notify</a>, <a href="../../../java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../java/lang/Object.html#wait()">wait</a>, <a href="../../../java/lang/Object.html#wait(long)">wait</a>, <a href="../../../java/lang/Object.html#wait(long,%20int)">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.377">serialVersionUID</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#java.util.concurrent.ConcurrentHashMap.Segment.serialVersionUID">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAX_SCAN_RETRIES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_SCAN_RETRIES</h4>
<pre>static final&nbsp;int <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.386">MAX_SCAN_RETRIES</a></pre>
<div class="block">The maximum number of times to tryLock in a prescan before
 possibly blocking on acquire in preparation for a locked
 segment operation. On multiprocessors, using a bounded
 number of retries maintains cache acquired while locating
 nodes.</div>
</li>
</ul>
<a name="table">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>table</h4>
<pre>transient volatile&nbsp;<a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;[] <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.393">table</a></pre>
<div class="block">The per-segment table. Elements are accessed via
 entryAt/setEntryAt providing volatile semantics.</div>
</li>
</ul>
<a name="count">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>transient&nbsp;int <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.399">count</a></pre>
<div class="block">The number of elements. Accessed only either within locks
 or among other volatile reads that maintain visibility.</div>
</li>
</ul>
<a name="modCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modCount</h4>
<pre>transient&nbsp;int <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.408">modCount</a></pre>
<div class="block">The total number of mutative operations in this segment.
 Even though this may overflows 32 bits, it provides
 sufficient accuracy for stability checks in CHM isEmpty()
 and size() methods.  Accessed only either within locks or
 among other volatile reads that maintain visibility.</div>
</li>
</ul>
<a name="threshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>threshold</h4>
<pre>transient&nbsp;int <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.415">threshold</a></pre>
<div class="block">The table is rehashed when its size exceeds this threshold.
 (The value of this field is always <tt>(int)(capacity *
 loadFactor)</tt>.)</div>
</li>
</ul>
<a name="loadFactor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>loadFactor</h4>
<pre>final&nbsp;float <a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.423">loadFactor</a></pre>
<div class="block">The load factor for the hash table.  Even though this value
 is same for all segments, it is replicated to avoid needing
 links to outer object.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConcurrentHashMap.Segment(float, int, java.util.concurrent.ConcurrentHashMap.HashEntry[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConcurrentHashMap.Segment</h4>
<pre><a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.425">ConcurrentHashMap.Segment</a>(float&nbsp;lf,
                         int&nbsp;threshold,
                         <a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;[]&nbsp;tab)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="put(java.lang.Object,int,java.lang.Object,boolean)">
<!--   -->
</a><a name="put(K, int, V, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.431">put</a>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
    int&nbsp;hash,
    <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;value,
    boolean&nbsp;onlyIfAbsent)</pre>
</li>
</ul>
<a name="rehash(java.util.concurrent.ConcurrentHashMap.HashEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rehash</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.480">rehash</a>(<a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;&nbsp;node)</pre>
<div class="block">Doubles size of table and repacks entries, also adding the
 given node to new table</div>
</li>
</ul>
<a name="scanAndLockForPut(java.lang.Object,int,java.lang.Object)">
<!--   -->
</a><a name="scanAndLockForPut(K, int, V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanAndLockForPut</h4>
<pre>private&nbsp;<a href="../../../java/util/concurrent/ConcurrentHashMap.HashEntry.html" title="class in java.util.concurrent">ConcurrentHashMap.HashEntry</a>&lt;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>,<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.551">scanAndLockForPut</a>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
                                                 int&nbsp;hash,
                                                 <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;value)</pre>
<div class="block">Scans for a node containing given key while trying to
 acquire lock, creating and returning one if not found. Upon
 return, guarantees that lock is held. UNlike in most
 methods, calls to method equals are not screened: Since
 traversal speed doesn't matter, we might as well help warm
 up the associated code and accesses as well.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a new node if key not found, else null</dd></dl>
</li>
</ul>
<a name="scanAndLock(java.lang.Object, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanAndLock</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.589">scanAndLock</a>(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;key,
               int&nbsp;hash)</pre>
<div class="block">Scans for a node containing the given key while trying to
 acquire lock for a remove or replace operation. Upon
 return, guarantees that lock is held.  Note that we must
 lock even if the key is not found, to ensure sequential
 consistency of updates.</div>
</li>
</ul>
<a name="remove(java.lang.Object, int, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.617">remove</a>(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;key,
       int&nbsp;hash,
       <a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;value)</pre>
<div class="block">Remove; match on key only if value null, else match both.</div>
</li>
</ul>
<a name="replace(java.lang.Object,int,java.lang.Object,java.lang.Object)">
<!--   -->
</a><a name="replace(K, int, V, V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>final&nbsp;boolean&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.652">replace</a>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
              int&nbsp;hash,
              <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;oldValue,
              <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;newValue)</pre>
</li>
</ul>
<a name="replace(java.lang.Object,int,java.lang.Object)">
<!--   -->
</a><a name="replace(K, int, V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.676">replace</a>(<a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">K</a>&nbsp;key,
        int&nbsp;hash,
        <a href="../../../java/util/concurrent/ConcurrentHashMap.Segment.html" title="type parameter in ConcurrentHashMap.Segment">V</a>&nbsp;value)</pre>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clear</h4>
<pre>final&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ConcurrentHashMap.Segment.html#line.698">clear</a>()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrentHashMap.Segment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../java/util/concurrent/ConcurrentHashMap.KeySet.html" title="class in java.util.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../java/util/concurrent/ConcurrentHashMap.ValueIterator.html" title="class in java.util.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?java/util/concurrent/ConcurrentHashMap.Segment.html" target="_top">Frames</a></li>
<li><a href="ConcurrentHashMap.Segment.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
