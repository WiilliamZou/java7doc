<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Jun 14 21:11:11 EDT 2015 -->
<title>ForkJoinWorkerThread</title>
<meta name="date" content="2015-06-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ForkJoinWorkerThread";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ForkJoinWorkerThread.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../java/util/concurrent/ForkJoinTask.ExceptionNode.html" title="class in java.util.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../java/util/concurrent/Future.html" title="interface in java.util.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?java/util/concurrent/ForkJoinWorkerThread.html" target="_top">Frames</a></li>
<li><a href="ForkJoinWorkerThread.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">java.util.concurrent</div>
<h2 title="Class ForkJoinWorkerThread" class="title">Class ForkJoinWorkerThread</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../java/lang/Thread.html" title="class in java.lang">java.lang.Thread</a></li>
<li>
<ul class="inheritance">
<li>java.util.concurrent.ForkJoinWorkerThread</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../java/lang/Runnable.html" title="interface in java.lang">Runnable</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.55">ForkJoinWorkerThread</a>
extends <a href="../../../java/lang/Thread.html" title="class in java.lang">Thread</a></pre>
<div class="block">A thread managed by a <a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent"><code>ForkJoinPool</code></a>, which executes
 <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent"><code>ForkJoinTask</code></a>s.
 This class is subclassable solely for the sake of adding
 functionality -- there are no overridable methods dealing with
 scheduling or execution.  However, you can override initialization
 and termination methods surrounding the main task processing loop.
 If you do create such a subclass, you will also need to supply a
 custom <a href="../../../java/util/concurrent/ForkJoinPool.ForkJoinWorkerThreadFactory.html" title="interface in java.util.concurrent"><code>ForkJoinPool.ForkJoinWorkerThreadFactory</code></a> to use it
 in a <code>ForkJoinPool</code>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.7</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Doug Lea</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.<a href="../../../java/lang/Thread.html" title="class in java.lang">Thread</a></h3>
<code><a href="../../../java/lang/Thread.State.html" title="enum in java.lang">Thread.State</a>, <a href="../../../java/lang/Thread.UncaughtExceptionHandler.html" title="interface in java.lang">Thread.UncaughtExceptionHandler</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#ABASE">ABASE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#ASHIFT">ASHIFT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#currentJoin">currentJoin</a></strong></code>
<div class="block">The task currently being joined, set only when actively trying
 to help other stealers in helpJoinTask.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#currentSteal">currentSteal</a></strong></code>
<div class="block">The task most recently stolen from another worker (or
 submission queue).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#eventCount">eventCount</a></strong></code>
<div class="block">Complement of poolIndex, offset by count of entries of task
 waits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#INITIAL_QUEUE_CAPACITY">INITIAL_QUEUE_CAPACITY</a></strong></code>
<div class="block">Capacity of work-stealing queue array upon initialization.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#locallyFifo">locallyFifo</a></strong></code>
<div class="block">True if use local fifo, not default lifo, for local polling.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#MAX_HELP">MAX_HELP</a></strong></code>
<div class="block">The maximum stolen->joining link depth allowed in helpJoinTask,
 as well as the maximum number of retries (allowing on average
 one staleness retry per level) per attempt to instead try
 compensation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#MAXIMUM_QUEUE_CAPACITY">MAXIMUM_QUEUE_CAPACITY</a></strong></code>
<div class="block">Maximum size for queue array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#nextWait">nextWait</a></strong></code>
<div class="block">Encoded record for pool task waits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#parked">parked</a></strong></code>
<div class="block">Set to true before LockSupport.park; false on return</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent">ForkJoinPool</a></code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#pool">pool</a></strong></code>
<div class="block">The pool this thread works in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#poolIndex">poolIndex</a></strong></code>
<div class="block">Index of this worker in pool array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#queue">queue</a></strong></code>
<div class="block">The work-stealing queue array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#queueBase">queueBase</a></strong></code>
<div class="block">Index (mod queue.length) of least valid queue slot, which is
 always the next position to steal from if nonempty.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#queueTop">queueTop</a></strong></code>
<div class="block">Index (mod queue.length) of next queue slot to push to or pop
 from.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#seed">seed</a></strong></code>
<div class="block">Seed for random number generator for choosing steal victims.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#SMASK">SMASK</a></strong></code>
<div class="block">Mask for pool indices encoded as shorts</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#stealCount">stealCount</a></strong></code>
<div class="block">Number of steals.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#stealHint">stealHint</a></strong></code>
<div class="block">The index of most recent stealer, used as a hint to avoid
 traversal in method helpJoinTask.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#terminate">terminate</a></strong></code>
<div class="block">True if this worker should or did terminate</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static sun.misc.Unsafe</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#UNSAFE">UNSAFE</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.<a href="../../../java/lang/Thread.html" title="class in java.lang">Thread</a></h3>
<code><a href="../../../java/lang/Thread.html#MAX_PRIORITY">MAX_PRIORITY</a>, <a href="../../../java/lang/Thread.html#MIN_PRIORITY">MIN_PRIORITY</a>, <a href="../../../java/lang/Thread.html#NORM_PRIORITY">NORM_PRIORITY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#ForkJoinWorkerThread(java.util.concurrent.ForkJoinPool)">ForkJoinWorkerThread</a></strong>(<a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent">ForkJoinPool</a>&nbsp;pool)</code>
<div class="block">Creates a ForkJoinWorkerThread operating in the given pool.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#cancelTasks()">cancelTasks</a></strong>()</code>
<div class="block">Removes and cancels all tasks in queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#casSlotNull(java.util.concurrent.ForkJoinTask[],%20int,%20java.util.concurrent.ForkJoinTask)">casSlotNull</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;[]&nbsp;q,
                      int&nbsp;i,
                      <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">CASes slot i of array q from t to null.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#deqTask()">deqTask</a></strong>()</code>
<div class="block">Tries to take a task from the base of the queue, failing if
 empty or contended.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#drainTasksTo(java.util.Collection)">drainTasksTo</a></strong>(<a href="../../../java/util/Collection.html" title="interface in java.util">Collection</a>&lt;? super <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&gt;&nbsp;c)</code>
<div class="block">Drains tasks to given collection c.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#execTask(java.util.concurrent.ForkJoinTask)">execTask</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">Runs the given task, plus any local tasks until queue is empty</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#getEstimatedSurplusTaskCount()">getEstimatedSurplusTaskCount</a></strong>()</code>
<div class="block">Implements ForkJoinTask.getSurplusQueuedTaskCount().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent">ForkJoinPool</a></code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#getPool()">getPool</a></strong>()</code>
<div class="block">Returns the pool hosting this thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#getPoolIndex()">getPoolIndex</a></strong>()</code>
<div class="block">Returns the index number of this thread in its pool.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#getQueueSize()">getQueueSize</a></strong>()</code>
<div class="block">Returns an estimate of the number of tasks in the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#growQueue()">growQueue</a></strong>()</code>
<div class="block">Creates or doubles queue array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#helpJoinTask(java.util.concurrent.ForkJoinTask)">helpJoinTask</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;joinMe)</code>
<div class="block">Tries to locate and execute tasks for a stealer of the given
 task, or in turn one of its stealers, Traces
 currentSteal->currentJoin links looking for a thread working on
 a descendant of the given task and with a non-empty queue to
 steal back and execute tasks from.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#helpQuiescePool()">helpQuiescePool</a></strong>()</code>
<div class="block">Runs tasks until <code>pool.isQuiescent()</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#joinTask(java.util.concurrent.ForkJoinTask)">joinTask</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;joinMe)</code>
<div class="block">Possibly runs some tasks and/or blocks, until joinMe is done.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#localHelpJoinTask(java.util.concurrent.ForkJoinTask)">localHelpJoinTask</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;joinMe)</code>
<div class="block">If present, pops and executes the given task, or any other
 cancelled task</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#locallyDeqTask()">locallyDeqTask</a></strong>()</code>
<div class="block">Tries to take a task from the base of own queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#nextSeed()">nextSeed</a></strong>()</code>
<div class="block">Computes next value for random victim probes and backoffs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#onStart()">onStart</a></strong>()</code>
<div class="block">Initializes internal state after construction but before
 processing any tasks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#onTermination(java.lang.Throwable)">onTermination</a></strong>(<a href="../../../java/lang/Throwable.html" title="class in java.lang">Throwable</a>&nbsp;exception)</code>
<div class="block">Performs cleanup associated with termination of this worker
 thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#peekTask()">peekTask</a></strong>()</code>
<div class="block">Returns next task, or null if empty or contended.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#pollLocalTask()">pollLocalTask</a></strong>()</code>
<div class="block">Gets and removes a local task.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#pollTask()">pollTask</a></strong>()</code>
<div class="block">Gets and removes a local or stolen task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#popTask()">popTask</a></strong>()</code>
<div class="block">Returns a popped task, or null if empty.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#pushTask(java.util.concurrent.ForkJoinTask)">pushTask</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">Pushes a task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#run()">run</a></strong>()</code>
<div class="block">This method is required to be public, but should never be
 called explicitly.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#tryDeqAndExec(java.util.concurrent.ForkJoinTask)">tryDeqAndExec</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">Performs an uncommon case for joinTask: If task t is at base of
 some workers queue, steals and executes it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#unpushTask(java.util.concurrent.ForkJoinTask)">unpushTask</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">Specialized version of popTask to pop only if topmost element
 is the given task.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../java/util/concurrent/ForkJoinWorkerThread.html#writeSlot(java.util.concurrent.ForkJoinTask[],%20int,%20java.util.concurrent.ForkJoinTask)">writeSlot</a></strong>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;[]&nbsp;q,
                  int&nbsp;i,
                  <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">Performs a volatile write of the given task at given slot of
 array q.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Thread.html" title="class in java.lang">Thread</a></h3>
<code><a href="../../../java/lang/Thread.html#activeCount()">activeCount</a>, <a href="../../../java/lang/Thread.html#checkAccess()">checkAccess</a>, <a href="../../../java/lang/Thread.html#clone()">clone</a>, <a href="../../../java/lang/Thread.html#countStackFrames()">countStackFrames</a>, <a href="../../../java/lang/Thread.html#currentThread()">currentThread</a>, <a href="../../../java/lang/Thread.html#destroy()">destroy</a>, <a href="../../../java/lang/Thread.html#dumpStack()">dumpStack</a>, <a href="../../../java/lang/Thread.html#enumerate(java.lang.Thread[])">enumerate</a>, <a href="../../../java/lang/Thread.html#getAllStackTraces()">getAllStackTraces</a>, <a href="../../../java/lang/Thread.html#getContextClassLoader()">getContextClassLoader</a>, <a href="../../../java/lang/Thread.html#getDefaultUncaughtExceptionHandler()">getDefaultUncaughtExceptionHandler</a>, <a href="../../../java/lang/Thread.html#getId()">getId</a>, <a href="../../../java/lang/Thread.html#getName()">getName</a>, <a href="../../../java/lang/Thread.html#getPriority()">getPriority</a>, <a href="../../../java/lang/Thread.html#getStackTrace()">getStackTrace</a>, <a href="../../../java/lang/Thread.html#getState()">getState</a>, <a href="../../../java/lang/Thread.html#getThreadGroup()">getThreadGroup</a>, <a href="../../../java/lang/Thread.html#getUncaughtExceptionHandler()">getUncaughtExceptionHandler</a>, <a href="../../../java/lang/Thread.html#holdsLock(java.lang.Object)">holdsLock</a>, <a href="../../../java/lang/Thread.html#interrupt()">interrupt</a>, <a href="../../../java/lang/Thread.html#interrupted()">interrupted</a>, <a href="../../../java/lang/Thread.html#isAlive()">isAlive</a>, <a href="../../../java/lang/Thread.html#isDaemon()">isDaemon</a>, <a href="../../../java/lang/Thread.html#isInterrupted()">isInterrupted</a>, <a href="../../../java/lang/Thread.html#join()">join</a>, <a href="../../../java/lang/Thread.html#join(long)">join</a>, <a href="../../../java/lang/Thread.html#join(long,%20int)">join</a>, <a href="../../../java/lang/Thread.html#resume()">resume</a>, <a href="../../../java/lang/Thread.html#setContextClassLoader(java.lang.ClassLoader)">setContextClassLoader</a>, <a href="../../../java/lang/Thread.html#setDaemon(boolean)">setDaemon</a>, <a href="../../../java/lang/Thread.html#setDefaultUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)">setDefaultUncaughtExceptionHandler</a>, <a href="../../../java/lang/Thread.html#setName(java.lang.String)">setName</a>, <a href="../../../java/lang/Thread.html#setPriority(int)">setPriority</a>, <a href="../../../java/lang/Thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)">setUncaughtExceptionHandler</a>, <a href="../../../java/lang/Thread.html#sleep(long)">sleep</a>, <a href="../../../java/lang/Thread.html#sleep(long,%20int)">sleep</a>, <a href="../../../java/lang/Thread.html#start()">start</a>, <a href="../../../java/lang/Thread.html#stop()">stop</a>, <a href="../../../java/lang/Thread.html#stop(java.lang.Throwable)">stop</a>, <a href="../../../java/lang/Thread.html#suspend()">suspend</a>, <a href="../../../java/lang/Thread.html#toString()">toString</a>, <a href="../../../java/lang/Thread.html#yield()">yield</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java/lang/Object.html#finalize()">finalize</a>, <a href="../../../java/lang/Object.html#getClass()">getClass</a>, <a href="../../../java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../java/lang/Object.html#notify()">notify</a>, <a href="../../../java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../java/lang/Object.html#wait()">wait</a>, <a href="../../../java/lang/Object.html#wait(long)">wait</a>, <a href="../../../java/lang/Object.html#wait(long,%20int)">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SMASK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SMASK</h4>
<pre>private static final&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.176">SMASK</a></pre>
<div class="block">Mask for pool indices encoded as shorts</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#java.util.concurrent.ForkJoinWorkerThread.SMASK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="INITIAL_QUEUE_CAPACITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INITIAL_QUEUE_CAPACITY</h4>
<pre>private static final&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.183">INITIAL_QUEUE_CAPACITY</a></pre>
<div class="block">Capacity of work-stealing queue array upon initialization.
 Must be a power of two. Initial size must be at least 4, but is
 padded to minimize cache effects.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#java.util.concurrent.ForkJoinWorkerThread.INITIAL_QUEUE_CAPACITY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAXIMUM_QUEUE_CAPACITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAXIMUM_QUEUE_CAPACITY</h4>
<pre>private static final&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.191">MAXIMUM_QUEUE_CAPACITY</a></pre>
<div class="block">Maximum size for queue array. Must be a power of two
 less than or equal to 1 << (31 - width of array entry) to
 ensure lack of index wraparound, but is capped at a lower
 value to help users trap runaway computations.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#java.util.concurrent.ForkJoinWorkerThread.MAXIMUM_QUEUE_CAPACITY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="queue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queue</h4>
<pre><a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;[] <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.198">queue</a></pre>
<div class="block">The work-stealing queue array. Size must be a power of two.
 Initialized when started (as oposed to when constructed), to
 improve memory locality.</div>
</li>
</ul>
<a name="pool">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pool</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent">ForkJoinPool</a> <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.203">pool</a></pre>
<div class="block">The pool this thread works in. Accessed directly by ForkJoinTask.</div>
</li>
</ul>
<a name="queueTop">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queueTop</h4>
<pre>int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.212">queueTop</a></pre>
<div class="block">Index (mod queue.length) of next queue slot to push to or pop
 from. It is written only by owner thread, and accessed by other
 threads only after reading (volatile) queueBase.  Both queueTop
 and queueBase are allowed to wrap around on overflow, but
 (queueTop - queueBase) still estimates size.</div>
</li>
</ul>
<a name="queueBase">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queueBase</h4>
<pre>volatile&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.218">queueBase</a></pre>
<div class="block">Index (mod queue.length) of least valid queue slot, which is
 always the next position to steal from if nonempty.</div>
</li>
</ul>
<a name="stealHint">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stealHint</h4>
<pre>int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.227">stealHint</a></pre>
<div class="block">The index of most recent stealer, used as a hint to avoid
 traversal in method helpJoinTask. This is only a hint because a
 worker might have had multiple steals and this only holds one
 of them (usually the most current). Declared non-volatile,
 relying on other prevailing sync to keep reasonably current.</div>
</li>
</ul>
<a name="poolIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poolIndex</h4>
<pre>final&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.234">poolIndex</a></pre>
<div class="block">Index of this worker in pool array. Set once by pool before
 running, and accessed directly by pool to locate this worker in
 its workers array.</div>
</li>
</ul>
<a name="nextWait">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextWait</h4>
<pre>int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.240">nextWait</a></pre>
<div class="block">Encoded record for pool task waits. Usages are always
 surrounded by volatile reads/writes</div>
</li>
</ul>
<a name="eventCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventCount</h4>
<pre>volatile&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.246">eventCount</a></pre>
<div class="block">Complement of poolIndex, offset by count of entries of task
 waits. Accessed by ForkJoinPool to manage event waiters.</div>
</li>
</ul>
<a name="seed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seed</h4>
<pre>int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.252">seed</a></pre>
<div class="block">Seed for random number generator for choosing steal victims.
 Uses Marsaglia xorshift. Must be initialized as nonzero.</div>
</li>
</ul>
<a name="stealCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stealCount</h4>
<pre>int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.258">stealCount</a></pre>
<div class="block">Number of steals. Directly accessed (and reset) by pool when
 idle.</div>
</li>
</ul>
<a name="terminate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>volatile&nbsp;boolean <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.263">terminate</a></pre>
<div class="block">True if this worker should or did terminate</div>
</li>
</ul>
<a name="parked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parked</h4>
<pre>volatile&nbsp;boolean <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.268">parked</a></pre>
<div class="block">Set to true before LockSupport.park; false on return</div>
</li>
</ul>
<a name="locallyFifo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locallyFifo</h4>
<pre>final&nbsp;boolean <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.274">locallyFifo</a></pre>
<div class="block">True if use local fifo, not default lifo, for local polling.
 Shadows value from ForkJoinPool.</div>
</li>
</ul>
<a name="currentSteal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentSteal</h4>
<pre><a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt; <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.281">currentSteal</a></pre>
<div class="block">The task most recently stolen from another worker (or
 submission queue).  All uses are surrounded by enough volatile
 reads/writes to maintain as non-volatile.</div>
</li>
</ul>
<a name="currentJoin">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentJoin</h4>
<pre><a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt; <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.288">currentJoin</a></pre>
<div class="block">The task currently being joined, set only when actively trying
 to help other stealers in helpJoinTask. All uses are surrounded
 by enough volatile reads/writes to maintain as non-volatile.</div>
</li>
</ul>
<a name="MAX_HELP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_HELP</h4>
<pre>private static final&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.700">MAX_HELP</a></pre>
<div class="block">The maximum stolen->joining link depth allowed in helpJoinTask,
 as well as the maximum number of retries (allowing on average
 one staleness retry per level) per attempt to instead try
 compensation.  Depths for legitimate chains are unbounded, but
 we use a fixed constant to avoid (otherwise unchecked) cycles
 and bound staleness of traversal parameters at the expense of
 sometimes blocking when we could be helping.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#java.util.concurrent.ForkJoinWorkerThread.MAX_HELP">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="UNSAFE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UNSAFE</h4>
<pre>private static final&nbsp;sun.misc.Unsafe <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.979">UNSAFE</a></pre>
</li>
</ul>
<a name="ABASE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ABASE</h4>
<pre>private static final&nbsp;long <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.980">ABASE</a></pre>
</li>
</ul>
<a name="ASHIFT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ASHIFT</h4>
<pre>private static final&nbsp;int <a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.981">ASHIFT</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ForkJoinWorkerThread(java.util.concurrent.ForkJoinPool)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ForkJoinWorkerThread</h4>
<pre>protected&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.296">ForkJoinWorkerThread</a>(<a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent">ForkJoinPool</a>&nbsp;pool)</pre>
<div class="block">Creates a ForkJoinWorkerThread operating in the given pool.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pool</code> - the pool this thread works in</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if pool is null</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPool</h4>
<pre>public&nbsp;<a href="../../../java/util/concurrent/ForkJoinPool.html" title="class in java.util.concurrent">ForkJoinPool</a>&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.316">getPool</a>()</pre>
<div class="block">Returns the pool hosting this thread.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the pool</dd></dl>
</li>
</ul>
<a name="getPoolIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPoolIndex</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.329">getPoolIndex</a>()</pre>
<div class="block">Returns the index number of this thread in its pool.  The
 returned value ranges from zero to the maximum number of
 threads (minus one) that have ever been created in the pool.
 This method may be useful for applications that track status or
 collect results per-worker rather than per-task.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the index number</dd></dl>
</li>
</ul>
<a name="nextSeed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextSeed</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.342">nextSeed</a>()</pre>
<div class="block">Computes next value for random victim probes and backoffs.
 Scans don't require a very high quality generator, but also not
 a crummy one.  Marsaglia xor-shift is cheap and works well
 enough.  Note: This is manually inlined in FJP.scan() to avoid
 writes inside busy loops.</div>
</li>
</ul>
<a name="onStart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStart</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.361">onStart</a>()</pre>
<div class="block">Initializes internal state after construction but before
 processing any tasks. If you override this method, you must
 invoke <code>super.onStart()</code> at the beginning of the method.
 Initialization requires care: Most fields must have legal
 default values, to ensure that attempted accesses from other
 threads work correctly even before this thread starts
 processing tasks.</div>
</li>
</ul>
<a name="onTermination(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTermination</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.375">onTermination</a>(<a href="../../../java/lang/Throwable.html" title="class in java.lang">Throwable</a>&nbsp;exception)</pre>
<div class="block">Performs cleanup associated with termination of this worker
 thread.  If you override this method, you must invoke
 <code>super.onTermination</code> at the end of the overridden method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>exception</code> - the exception causing this thread to abort due
 to an unrecoverable error, or <code>null</code> if completed normally</dd></dl>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.394">run</a>()</pre>
<div class="block">This method is required to be public, but should never be
 called explicitly. It performs the main run loop to execute
 <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent"><code>ForkJoinTask</code></a>s.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../java/lang/Runnable.html#run()">run</a></code>&nbsp;in interface&nbsp;<code><a href="../../../java/lang/Runnable.html" title="interface in java.lang">Runnable</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../java/lang/Thread.html#run()">run</a></code>&nbsp;in class&nbsp;<code><a href="../../../java/lang/Thread.html" title="class in java.lang">Thread</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../java/lang/Thread.html#start()"><code>Thread.start()</code></a>, 
<a href="../../../java/lang/Thread.html#stop()"><code>Thread.stop()</code></a>, 
<a href="../../../java/lang/Thread.html#Thread(java.lang.ThreadGroup,%20java.lang.Runnable,%20java.lang.String)"><code>Thread.Thread(ThreadGroup, Runnable, String)</code></a></dd></dl>
</li>
</ul>
<a name="casSlotNull(java.util.concurrent.ForkJoinTask[], int, java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>casSlotNull</h4>
<pre>private static final&nbsp;boolean&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.437">casSlotNull</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;[]&nbsp;q,
                  int&nbsp;i,
                  <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">CASes slot i of array q from t to null. Caller must ensure q is
 non-null and index is in range.</div>
</li>
</ul>
<a name="writeSlot(java.util.concurrent.ForkJoinTask[], int, java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSlot</h4>
<pre>private static final&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.447">writeSlot</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;[]&nbsp;q,
             int&nbsp;i,
             <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Performs a volatile write of the given task at given slot of
 array q.  Caller must ensure q is non-null and index is in
 range. This method is used only during resets and backouts.</div>
</li>
</ul>
<a name="pushTask(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushTask</h4>
<pre>final&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.459">pushTask</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Pushes a task. Call only from this thread.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - the task. Caller must ensure non-null.</dd></dl>
</li>
</ul>
<a name="growQueue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>growQueue</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.477">growQueue</a>()</pre>
<div class="block">Creates or doubles queue array.  Transfers elements by
 emulating steals (deqs) from old array and placing, oldest
 first, into new array.</div>
</li>
</ul>
<a name="deqTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deqTask</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.506">deqTask</a>()</pre>
<div class="block">Tries to take a task from the base of the queue, failing if
 empty or contended. Note: Specializations of this code appear
 in locallyDeqTask and elsewhere.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a task, or null if none or contended</dd></dl>
</li>
</ul>
<a name="locallyDeqTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locallyDeqTask</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.525">locallyDeqTask</a>()</pre>
<div class="block">Tries to take a task from the base of own queue.  Called only
 by this thread.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a task, or null if none</dd></dl>
</li>
</ul>
<a name="popTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>popTask</h4>
<pre>private&nbsp;<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.546">popTask</a>()</pre>
<div class="block">Returns a popped task, or null if empty.
 Called only by this thread.</div>
</li>
</ul>
<a name="unpushTask(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unpushTask</h4>
<pre>final&nbsp;boolean&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.571">unpushTask</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Specialized version of popTask to pop only if topmost element
 is the given task. Called only by this thread.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - the task. Caller must ensure non-null.</dd></dl>
</li>
</ul>
<a name="peekTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peekTask</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.586">peekTask</a>()</pre>
<div class="block">Returns next task, or null if empty or contended.</div>
</li>
</ul>
<a name="execTask(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execTask</h4>
<pre>final&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.600">execTask</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Runs the given task, plus any local tasks until queue is empty</div>
</li>
</ul>
<a name="cancelTasks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelTasks</h4>
<pre>final&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.617">cancelTasks</a>()</pre>
<div class="block">Removes and cancels all tasks in queue.  Can be called from any
 thread.</div>
</li>
</ul>
<a name="drainTasksTo(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drainTasksTo</h4>
<pre>final&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.636">drainTasksTo</a>(<a href="../../../java/util/Collection.html" title="interface in java.util">Collection</a>&lt;? super <a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&gt;&nbsp;c)</pre>
<div class="block">Drains tasks to given collection c.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of tasks drained</dd></dl>
</li>
</ul>
<a name="getQueueSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueueSize</h4>
<pre>final&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.653">getQueueSize</a>()</pre>
<div class="block">Returns an estimate of the number of tasks in the queue.</div>
</li>
</ul>
<a name="pollLocalTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pollLocalTask</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.662">pollLocalTask</a>()</pre>
<div class="block">Gets and removes a local task.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a task, if available</dd></dl>
</li>
</ul>
<a name="pollTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pollTask</h4>
<pre>final&nbsp;<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.671">pollTask</a>()</pre>
<div class="block">Gets and removes a local or stolen task.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a task, if available</dd></dl>
</li>
</ul>
<a name="joinTask(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinTask</h4>
<pre>final&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.708">joinTask</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;joinMe)</pre>
<div class="block">Possibly runs some tasks and/or blocks, until joinMe is done.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>joinMe</code> - the task to join</dd>
<dt><span class="strong">Returns:</span></dt><dd>completion status on exit</dd></dl>
</li>
</ul>
<a name="localHelpJoinTask(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localHelpJoinTask</h4>
<pre>private&nbsp;boolean&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.742">localHelpJoinTask</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;joinMe)</pre>
<div class="block">If present, pops and executes the given task, or any other
 cancelled task</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>false if any other non-cancelled task exists in local queue</dd></dl>
</li>
</ul>
<a name="helpJoinTask(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>helpJoinTask</h4>
<pre>private&nbsp;boolean&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.773">helpJoinTask</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;joinMe)</pre>
<div class="block">Tries to locate and execute tasks for a stealer of the given
 task, or in turn one of its stealers, Traces
 currentSteal->currentJoin links looking for a thread working on
 a descendant of the given task and with a non-empty queue to
 steal back and execute tasks from.  The implementation is very
 branchy to cope with potential inconsistencies or loops
 encountering chains that are stale, unknown, or of length
 greater than MAX_HELP links.  All of these cases are dealt with
 by just retrying by caller.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>joinMe</code> - the task to join</dd><dd><code>canSteal</code> - true if local queue is empty</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if ran a task</dd></dl>
</li>
</ul>
<a name="tryDeqAndExec(java.util.concurrent.ForkJoinTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryDeqAndExec</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.838">tryDeqAndExec</a>(<a href="../../../java/util/concurrent/ForkJoinTask.html" title="class in java.util.concurrent">ForkJoinTask</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Performs an uncommon case for joinTask: If task t is at base of
 some workers queue, steals and executes it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - the task</dd>
<dt><span class="strong">Returns:</span></dt><dd>t's status</dd></dl>
</li>
</ul>
<a name="getEstimatedSurplusTaskCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEstimatedSurplusTaskCount</h4>
<pre>final&nbsp;int&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.915">getEstimatedSurplusTaskCount</a>()</pre>
<div class="block">Implements ForkJoinTask.getSurplusQueuedTaskCount().  Returns
 an estimate of the number of tasks, offset by a function of
 number of idle workers.

 This method provides a cheap heuristic guide for task
 partitioning when programmers, frameworks, tools, or languages
 have little or no idea about task granularity.  In essence by
 offering this method, we ask users only about tradeoffs in
 overhead vs expected throughput and its variance, rather than
 how finely to partition tasks.

 In a steady state strict (tree-structured) computation, each
 thread makes available for stealing enough tasks for other
 threads to remain active. Inductively, if all threads play by
 the same rules, each thread should make available only a
 constant number of tasks.

 The minimum useful constant is just 1. But using a value of 1
 would require immediate replenishment upon each steal to
 maintain enough tasks, which is infeasible.  Further,
 partitionings/granularities of offered tasks should minimize
 steal rates, which in general means that threads nearer the top
 of computation tree should generate more than those nearer the
 bottom. In perfect steady state, each thread is at
 approximately the same level of computation tree. However,
 producing extra tasks amortizes the uncertainty of progress and
 diffusion assumptions.

 So, users will want to use values larger, but not much larger
 than 1 to both smooth over transient shortages and hedge
 against uneven progress; as traded off against the cost of
 extra task overhead. We leave the user to pick a threshold
 value to compare with the results of this call to guide
 decisions, but recommend values such as 3.

 When all threads are active, it is on average OK to estimate
 surplus strictly locally. In steady-state, if one thread is
 maintaining say 2 surplus tasks, then so are others. So we can
 just use estimated queue length (although note that (queueTop -
 queueBase) can be an overestimate because of stealers lagging
 increments of queueBase).  However, this strategy alone leads
 to serious mis-estimates in some non-steady-state conditions
 (ramp-up, ramp-down, other stalls). We can detect many of these
 by further considering the number of "idle" threads, that are
 known to have zero queued tasks, so compensate by a factor of
 (#idle/#active) threads.</div>
</li>
</ul>
<a name="helpQuiescePool()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>helpQuiescePool</h4>
<pre>final&nbsp;void&nbsp;<a href="../../../src-html/java/util/concurrent/ForkJoinWorkerThread.html#line.928">helpQuiescePool</a>()</pre>
<div class="block">Runs tasks until <code>pool.isQuiescent()</code>. We piggyback on
 pool's active count ctl maintenance, but rather than blocking
 when tasks cannot be found, we rescan until all others cannot
 find tasks either. The bracketing by pool quiescerCounts
 updates suppresses pool auto-shutdown mechanics that could
 otherwise prematurely terminate the pool because all threads
 appear to be inactive.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ForkJoinWorkerThread.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../java/util/concurrent/ForkJoinTask.ExceptionNode.html" title="class in java.util.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../java/util/concurrent/Future.html" title="interface in java.util.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?java/util/concurrent/ForkJoinWorkerThread.html" target="_top">Frames</a></li>
<li><a href="ForkJoinWorkerThread.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
